# FXシミュレーションアプリ (FX Simulator)

Next.js + FastAPI + AWS 構成のFXデモトレード・シミュレーションアプリです。

## アプリケーションURL

https://fx-simulator.vercel.app/

## 機能一覧

* **リアルタイム・シミュレーション**: 過去の日足チャート（USD/JPY）を1日1秒で再生します。
* **デモトレード**: 100万円の仮想残高を元に、ASK(買) / BID(売) / 全決済 が行えます。
* **損益計算**: 保有ポジションの損益（P/L）をリアルタイムで計算・表示します。
* **口座残高への反映**: 決済時に損益が口座残高に反映されます。
* **取引履歴**: 全ての取引（新規・決済）をDBに記録し、損益と共に一覧表示します。
* **リセット機能**: 口座残高や取引履歴を初期状態にリセットできます。

## 使用技術とアーキテクチャ

* **フロントエンド**: Next.js (App Router, React 19), Vercel
* **バックエンド**: Python, FastAPI, Uvicorn
* **データベース**: PostgreSQL (AWS RDS)
* **ORM / マイグレーション**: SQLAlchemy, Alembic
* **インフラ (AWS)**: ECS (Fargate), RDS, ALB, ECR, CloudWatch
* **コンテナ**: Docker, docker-compose
* **CI/CD**: GitHub Actions（`main`ブランチへのプッシュでVercelとAWS ECSへ自動デプロイ）
* **外部API**: Alpha Vantage (為替データ取得)

## 今後の機能追加予定
### シミュレーション機能
* **詳細な取引設定**: 取引数量（Lot）を指定できる機能。
* **開始日時の指定**: 過去の特定の日付を指定してシミュレーションを開始する機能。
* **リアリティの向上**: スプレッド、スワップポイント、ロスカットルールの導入。
* **データ拡充**:
    * 他通貨ペア（EUR/USD, GBP/JPY など）の導入。
    * 複数時間足（月足, 週足, 4時間足, 1分足など）への対応。
* **UI/UXの改善**:
    * フロントエンドのUIをよりモダンなデザインに刷新。
    * 複数チャートの同時表示機能。
* **リアルタイム・デモトレード**: 現在の実際の為替レートを取得し、リアルタイムでのデモトレード機能を追加。
* **自動売買（EA）**: ユーザーが定義したロジックに基づき、自動売買のバックテストを実行できるシミュレーション機能。

### パフォーマンス/インフラ
* **動作安定化**: 外部APIから取得したチャートデータをDB（RDS）にキャッシュし、APIレートリミット（利用上限）の影響を受けない設計への変更予定。
* **インフラ構成の見直し**: データ取得バッチなどに **AWS Lambda** やイベント駆動アーキテクチャを導入し、可能であればサーバーレス化を検討。